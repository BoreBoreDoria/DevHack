!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("socket.io-client"),require("rxjs")):"function"==typeof define&&define.amd?define("@ngxf/socket.io",["exports","@angular/core","socket.io-client","rxjs"],e):e(((t=t||self).ngxf=t.ngxf||{},t.ngxf.socket=t.ngxf.socket||{},t.ngxf.socket.io={}),t.ng.core,t.io_,t.rxjs)}(this,(function(t,e,i,o){"use strict";var n=i;var s=function(){function t(t,e){this.templateRef=t,this.vcr=e,this.context={$implicit:null}}return t.prototype.ngOnChanges=function(t){t.socketIOOf&&this.socketIOOf&&(this.destroy(),this.init())},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.init=function(){this.context.$implicit=this.socket=n(this.socketIOOf),this.vcr.createEmbeddedView(this.templateRef,this.context)},t.prototype.destroy=function(){this.vcr.clear(),this.viewRef&&(this.viewRef.destroy(),this.viewRef=null),this.socket&&(this.socket.disconnect(),this.context.$implicit=this.socket=null)},t.decorators=[{type:e.Directive,args:[{selector:"[socketIO]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef}]},t.propDecorators={socketIOOf:[{type:e.Input}]},t}();var r=function(){function t(t,e){this.templateRef=t,this.vcr=e,this.context={$implicit:null}}return t.prototype.ngOnChanges=function(t){(t.socketIOOnOn||t.socketIOOnFrom)&&(this.destroy(),this.socketIOOnOn&&this.socketIOOnFrom&&(t.socketIOOnOn.previousValue===this.socketIOOnOn&&t.socketIOOnFrom.previousValue===this.socketIOOnFrom||this.init()))},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.init=function(){var t=this;this.subscription=o.fromEvent(this.socketIOOnFrom,this.socketIOOnOn).subscribe((function(e){t.context.$implicit=e,t.viewRef=t.templateRef.createEmbeddedView(t.context),t.viewRef.detectChanges(),t.viewRef&&(t.viewRef.destroy(),t.viewRef=null)}))},t.prototype.destroy=function(){this.vcr.clear(),this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.viewRef&&(this.viewRef.destroy(),this.viewRef=null)},t.decorators=[{type:e.Directive,args:[{selector:"[socketIOOn]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef}]},t.propDecorators={socketIOOnOn:[{type:e.Input}],socketIOOnFrom:[{type:e.Input}]},t}();var c=[s,r],f=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[c],exports:[c]}]}],t}();t.NgxfSocketIOModule=f,t.SocketIODirective=s,t.SocketIOOnDirective=r,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngxf-socket.io.umd.min.js.map