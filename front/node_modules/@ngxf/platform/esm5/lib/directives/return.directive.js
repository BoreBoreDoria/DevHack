/**
 * @fileoverview added by tsickle
 * Generated from: lib/directives/return.directive.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, Input, ViewContainerRef } from '@angular/core';
import { ComposedView } from '../tools/recompose/composed.view';
/**
 * @record
 */
function ReturnContext() { }
if (false) {
    /** @type {?} */
    ReturnContext.prototype.$implicit;
}
var ReturnDirective = /** @class */ (function () {
    function ReturnDirective(viewContainerRef) {
        this.viewContainerRef = viewContainerRef;
        this.context = {
            $implicit: null
        };
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ReturnDirective.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if ('return' in changes) {
            if (!this.composedView) {
                this.create();
            }
            else {
                this.update();
            }
        }
    };
    /**
     * @return {?}
     */
    ReturnDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.composedView) {
            this.composedView.destroy();
            this.composedView = null;
        }
    };
    /**
     * @private
     * @return {?}
     */
    ReturnDirective.prototype.create = /**
     * @private
     * @return {?}
     */
    function () {
        this.composedView = new ComposedView(this.viewContainerRef);
        this.composedView.createEmbeddedView(this.context);
        this.update();
    };
    /**
     * @private
     * @return {?}
     */
    ReturnDirective.prototype.update = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.composedView.updateContext((/**
         * @param {?} context
         * @return {?}
         */
        function (context) {
            return Object.assign(context, _this.return);
        }));
    };
    ReturnDirective.decorators = [
        { type: Directive, args: [{ selector: '[return]' },] }
    ];
    /** @nocollapse */
    ReturnDirective.ctorParameters = function () { return [
        { type: ViewContainerRef }
    ]; };
    ReturnDirective.propDecorators = {
        return: [{ type: Input }]
    };
    return ReturnDirective;
}());
export { ReturnDirective };
if (false) {
    /** @type {?} */
    ReturnDirective.prototype.return;
    /**
     * @type {?}
     * @private
     */
    ReturnDirective.prototype.context;
    /**
     * @type {?}
     * @private
     */
    ReturnDirective.prototype.composedView;
    /**
     * @type {?}
     * @private
     */
    ReturnDirective.prototype.viewContainerRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0dXJuLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZ3hmL3BsYXRmb3JtLyIsInNvdXJjZXMiOlsibGliL2RpcmVjdGl2ZXMvcmV0dXJuLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUF1QyxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7Ozs7QUFFaEUsNEJBRUM7OztJQURDLGtDQUFnQjs7QUFHbEI7SUFVRSx5QkFBb0IsZ0JBQWtDO1FBQWxDLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7UUFMOUMsWUFBTyxHQUFrQjtZQUMvQixTQUFTLEVBQUUsSUFBSTtTQUNoQixDQUFDO0lBR3VELENBQUM7Ozs7O0lBRTFELHFDQUFXOzs7O0lBQVgsVUFBWSxPQUFzQjtRQUNoQyxJQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ3RCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNmO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNmO1NBQ0Y7SUFDSCxDQUFDOzs7O0lBRUQscUNBQVc7OztJQUFYO1FBQ0UsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7U0FDMUI7SUFDSCxDQUFDOzs7OztJQUVPLGdDQUFNOzs7O0lBQWQ7UUFDRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNoQixDQUFDOzs7OztJQUVPLGdDQUFNOzs7O0lBQWQ7UUFBQSxpQkFJQztRQUhDLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYTs7OztRQUFDLFVBQUMsT0FBTztZQUN0QyxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QyxDQUFDLEVBQUMsQ0FBQztJQUNMLENBQUM7O2dCQXZDRixTQUFTLFNBQUMsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFOzs7O2dCQVA2QixnQkFBZ0I7Ozt5QkFVN0UsS0FBSzs7SUFzQ1Isc0JBQUM7Q0FBQSxBQXpDRCxJQXlDQztTQXhDWSxlQUFlOzs7SUFFMUIsaUNBQXFCOzs7OztJQUVyQixrQ0FFRTs7Ozs7SUFDRix1Q0FBa0Q7Ozs7O0lBRXRDLDJDQUEwQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBTaW1wbGVDaGFuZ2VzLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21wb3NlZFZpZXcgfSBmcm9tICcuLi90b29scy9yZWNvbXBvc2UvY29tcG9zZWQudmlldyc7XG5cbmludGVyZmFjZSBSZXR1cm5Db250ZXh0IHtcbiAgJGltcGxpY2l0OiBudWxsO1xufVxuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbcmV0dXJuXScgfSlcbmV4cG9ydCBjbGFzcyBSZXR1cm5EaXJlY3RpdmUgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG5cbiAgQElucHV0KCkgcmV0dXJuOiBhbnk7XG5cbiAgcHJpdmF0ZSBjb250ZXh0OiBSZXR1cm5Db250ZXh0ID0ge1xuICAgICRpbXBsaWNpdDogbnVsbFxuICB9O1xuICBwcml2YXRlIGNvbXBvc2VkVmlldzogQ29tcG9zZWRWaWV3PFJldHVybkNvbnRleHQ+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZikge31cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKCdyZXR1cm4nIGluIGNoYW5nZXMpIHtcbiAgICAgIGlmICghdGhpcy5jb21wb3NlZFZpZXcpIHtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuY29tcG9zZWRWaWV3KSB7XG4gICAgICB0aGlzLmNvbXBvc2VkVmlldy5kZXN0cm95KCk7XG4gICAgICB0aGlzLmNvbXBvc2VkVmlldyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGUoKSB7XG4gICAgdGhpcy5jb21wb3NlZFZpZXcgPSBuZXcgQ29tcG9zZWRWaWV3KHRoaXMudmlld0NvbnRhaW5lclJlZik7XG4gICAgdGhpcy5jb21wb3NlZFZpZXcuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuY29udGV4dCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlKCkge1xuICAgIHRoaXMuY29tcG9zZWRWaWV3LnVwZGF0ZUNvbnRleHQoKGNvbnRleHQpID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGNvbnRleHQsIHRoaXMucmV0dXJuKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iXX0=