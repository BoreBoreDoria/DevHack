!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/keycodes"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/core/config"),require("ng-zorro-antd/core/logger"),require("ng-zorro-antd/core/util"),require("ng-zorro-antd/core/no-animation"),require("ng-zorro-antd/core/outlet"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/drawer",["exports","@angular/cdk/a11y","@angular/cdk/keycodes","@angular/cdk/overlay","@angular/cdk/portal","@angular/common","@angular/core","rxjs","rxjs/operators","ng-zorro-antd/core/config","ng-zorro-antd/core/logger","ng-zorro-antd/core/util","ng-zorro-antd/core/no-animation","ng-zorro-antd/core/outlet","ng-zorro-antd/icon"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].drawer={}),e.ng.cdk.a11y,e.ng.cdk.keycodes,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.common,e.ng.core,e.rxjs,e.rxjs.operators,e["ng-zorro-antd"].core.config,e["ng-zorro-antd"].core.logger,e["ng-zorro-antd"].core.util,e["ng-zorro-antd"].core["no-animation"],e["ng-zorro-antd"].core.outlet,e["ng-zorro-antd"].icon)}(this,(function(e,t,n,o,r,i,a,s,l,c,p,u,f,y,d){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function g(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;Object.create;var z=function(e){this.templateRef=e};z.decorators=[{type:a.Directive,args:[{selector:"[nzDrawerContent]",exportAs:"nzDrawerContent"}]}],z.ctorParameters=function(){return[{type:a.TemplateRef}]};var v=function(){},C=function(e){function t(t,n,o,r,i,l,c,p,u){var f=e.call(this)||this;return f.document=t,f.nzConfigService=n,f.renderer=o,f.overlay=r,f.injector=i,f.changeDetectorRef=l,f.focusTrapFactory=c,f.viewContainerRef=p,f.overlayKeyboardDispatcher=u,f._nzModuleName="drawer",f.nzCloseIcon="close",f.nzClosable=!0,f.nzMaskClosable=!0,f.nzMask=!0,f.nzCloseOnNavigation=!0,f.nzNoAnimation=!1,f.nzKeyboard=!0,f.nzPlacement="right",f.nzMaskStyle={},f.nzBodyStyle={},f.nzWidth=256,f.nzHeight=256,f.nzZIndex=1e3,f.nzOffsetX=0,f.nzOffsetY=0,f.componentInstance=null,f.nzOnViewInit=new a.EventEmitter,f.nzOnClose=new a.EventEmitter,f.nzVisibleChange=new a.EventEmitter,f.destroy$=new s.Subject,f.placementChanging=!1,f.placementChangeTimeoutId=-1,f.isOpen=!1,f.templateContext={$implicit:void 0,drawerRef:f},f.nzAfterOpen=new s.Subject,f.nzAfterClose=new s.Subject,f}return function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"nzVisible",{get:function(){return this.isOpen},set:function(e){this.isOpen=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetTransform",{get:function(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return"translateX("+this.nzOffsetX+"px)";case"right":return"translateX(-"+this.nzOffsetX+"px)";case"top":return"translateY("+this.nzOffsetY+"px)";case"bottom":return"translateY(-"+this.nzOffsetY+"px)"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.isLeftOrRight?u.toCssPixel(this.nzWidth):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.isLeftOrRight?null:u.toCssPixel(this.nzHeight)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLeftOrRight",{get:function(){return"left"===this.nzPlacement||"right"===this.nzPlacement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterOpen",{get:function(){return this.nzAfterOpen.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterClose",{get:function(){return this.nzAfterClose.asObservable()},enumerable:!1,configurable:!0}),t.prototype.isTemplateRef=function(e){return e instanceof a.TemplateRef},t.prototype.ngOnInit=function(){this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()},t.prototype.ngAfterViewInit=function(){var e=this;this.attachBodyContent(),setTimeout((function(){e.nzOnViewInit.emit()}))},t.prototype.ngAfterContentInit=function(){this.contentFromContentChild||this.nzContent||p.warnDeprecation("Usage `<ng-content></ng-content>` is deprecated, which will be removed in 12.0.0. Please instead use `<ng-template nzDrawerContent></ng-template>` to declare the content of the drawer.")},t.prototype.ngOnChanges=function(e){var t=e.nzPlacement;e.nzVisible&&(e.nzVisible.currentValue?this.open():this.close());t&&!t.isFirstChange()&&this.triggerPlacementChangeCycleOnce()},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()},t.prototype.getAnimationDuration=function(){return this.nzNoAnimation?0:300},t.prototype.triggerPlacementChangeCycleOnce=function(){var e=this;this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout((function(){e.placementChanging=!1,e.changeDetectorRef.markForCheck()}),this.getAnimationDuration()))},t.prototype.close=function(e){var t=this;this.isOpen=!1,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout((function(){t.updateBodyOverflow(),t.restoreFocus(),t.nzAfterClose.next(e),t.nzAfterClose.complete(),t.componentInstance=null}),this.getAnimationDuration())},t.prototype.open=function(){var e=this;this.attachOverlay(),this.isOpen=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout((function(){e.nzAfterOpen.next()}),this.getAnimationDuration())},t.prototype.getContentComponent=function(){return this.componentInstance},t.prototype.closeClick=function(){this.nzOnClose.emit()},t.prototype.maskClick=function(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()},t.prototype.attachBodyContent=function(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof a.Type){var e=a.Injector.create({parent:this.injector,providers:[{provide:v,useValue:this}]}),t=new r.ComponentPortal(this.nzContent,null,e),n=this.bodyPortalOutlet.attachComponentPortal(t);this.componentInstance=n.instance,Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}},t.prototype.attachOverlay=function(){var e=this;this.overlayRef||(this.portal=new r.TemplatePortal(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(l.takeUntil(this.destroy$)).subscribe((function(t){t.keyCode===n.ESCAPE&&e.isOpen&&e.nzKeyboard&&e.nzOnClose.emit()})),this.overlayRef.detachments().pipe(l.takeUntil(this.destroy$)).subscribe((function(){e.disposeOverlay()})))},t.prototype.disposeOverlay=function(){var e;null===(e=this.overlayRef)||void 0===e||e.dispose(),this.overlayRef=null},t.prototype.getOverlayConfig=function(){return new o.OverlayConfig({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})},t.prototype.updateOverlayStyle=function(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")},t.prototype.updateBodyOverflow=function(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())},t.prototype.savePreviouslyFocusedElement=function(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())},t.prototype.trapFocus=function(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())},t.prototype.restoreFocus=function(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()},t}(v);C.decorators=[{type:a.Component,args:[{selector:"nz-drawer",exportAs:"nzDrawer",template:'\n    <ng-template #drawerTemplate>\n      <div\n        class="ant-drawer"\n        [nzNoAnimation]="nzNoAnimation"\n        [class.ant-drawer-open]="isOpen"\n        [class.no-mask]="!nzMask"\n        [class.ant-drawer-top]="nzPlacement === \'top\'"\n        [class.ant-drawer-bottom]="nzPlacement === \'bottom\'"\n        [class.ant-drawer-right]="nzPlacement === \'right\'"\n        [class.ant-drawer-left]="nzPlacement === \'left\'"\n        [style.transform]="offsetTransform"\n        [style.transition]="placementChanging ? \'none\' : null"\n        [style.zIndex]="nzZIndex"\n      >\n        <div class="ant-drawer-mask" (click)="maskClick()" *ngIf="nzMask" [ngStyle]="nzMaskStyle"></div>\n        <div\n          class="ant-drawer-content-wrapper {{ nzWrapClassName }}"\n          [style.width]="width"\n          [style.height]="height"\n          [style.transform]="transform"\n          [style.transition]="placementChanging ? \'none\' : null"\n        >\n          <div class="ant-drawer-content">\n            <div class="ant-drawer-wrapper-body" [style.height]="isLeftOrRight ? \'100%\' : null">\n              <div *ngIf="nzTitle || nzClosable" [class.ant-drawer-header]="!!nzTitle" [class.ant-drawer-header-no-title]="!nzTitle">\n                <div *ngIf="nzTitle" class="ant-drawer-title">\n                  <ng-container *nzStringTemplateOutlet="nzTitle"><div [innerHTML]="nzTitle"></div></ng-container>\n                </div>\n                <button *ngIf="nzClosable" (click)="closeClick()" aria-label="Close" class="ant-drawer-close" style="--scroll-bar: 0px;">\n                  <ng-container *nzStringTemplateOutlet="nzCloseIcon; let closeIcon">\n                    <i nz-icon [nzType]="closeIcon"></i>\n                  </ng-container>\n                </button>\n              </div>\n              <div class="ant-drawer-body" [ngStyle]="nzBodyStyle">\n                <ng-template cdkPortalOutlet></ng-template>\n                <ng-container *ngIf="nzContent; else contentElseTemp">\n                  <ng-container *ngIf="isTemplateRef(nzContent)">\n                    <ng-container *ngTemplateOutlet="$any(nzContent); context: templateContext"></ng-container>\n                  </ng-container>\n                </ng-container>\n                <ng-template #contentElseTemp>\n                  <ng-container *ngIf="contentFromContentChild">\n                    <ng-template [ngTemplateOutlet]="contentFromContentChild"></ng-template>\n                  </ng-container>\n                </ng-template>\n                <ng-content *ngIf="!(nzContent || contentFromContentChild)"></ng-content>\n              </div>\n              <div *ngIf="nzFooter" class="ant-drawer-footer">\n                <ng-container *nzStringTemplateOutlet="nzFooter"><div [innerHTML]="nzFooter"></div></ng-container>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  ',preserveWhitespaces:!1,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],C.ctorParameters=function(){return[{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[i.DOCUMENT]}]},{type:c.NzConfigService},{type:a.Renderer2},{type:o.Overlay},{type:a.Injector},{type:a.ChangeDetectorRef},{type:t.FocusTrapFactory},{type:a.ViewContainerRef},{type:o.OverlayKeyboardDispatcher}]},C.propDecorators={nzContent:[{type:a.Input}],nzCloseIcon:[{type:a.Input}],nzClosable:[{type:a.Input}],nzMaskClosable:[{type:a.Input}],nzMask:[{type:a.Input}],nzCloseOnNavigation:[{type:a.Input}],nzNoAnimation:[{type:a.Input}],nzKeyboard:[{type:a.Input}],nzTitle:[{type:a.Input}],nzFooter:[{type:a.Input}],nzPlacement:[{type:a.Input}],nzMaskStyle:[{type:a.Input}],nzBodyStyle:[{type:a.Input}],nzWrapClassName:[{type:a.Input}],nzWidth:[{type:a.Input}],nzHeight:[{type:a.Input}],nzZIndex:[{type:a.Input}],nzOffsetX:[{type:a.Input}],nzOffsetY:[{type:a.Input}],nzVisible:[{type:a.Input}],nzOnViewInit:[{type:a.Output}],nzOnClose:[{type:a.Output}],nzVisibleChange:[{type:a.Output}],drawerTemplate:[{type:a.ViewChild,args:["drawerTemplate",{static:!0}]}],bodyPortalOutlet:[{type:a.ViewChild,args:[r.CdkPortalOutlet,{static:!1}]}],contentFromContentChild:[{type:a.ContentChild,args:[z,{static:!0,read:a.TemplateRef}]}]},g([u.InputBoolean(),m("design:type",Boolean)],C.prototype,"nzClosable",void 0),g([c.WithConfig(),u.InputBoolean(),m("design:type",Boolean)],C.prototype,"nzMaskClosable",void 0),g([c.WithConfig(),u.InputBoolean(),m("design:type",Boolean)],C.prototype,"nzMask",void 0),g([c.WithConfig(),u.InputBoolean(),m("design:type",Boolean)],C.prototype,"nzCloseOnNavigation",void 0),g([u.InputBoolean(),m("design:type",Object)],C.prototype,"nzNoAnimation",void 0),g([u.InputBoolean(),m("design:type",Boolean)],C.prototype,"nzKeyboard",void 0);var O=function(){};O.decorators=[{type:a.NgModule}];var b=function(){};b.decorators=[{type:a.NgModule,args:[{imports:[i.CommonModule,o.OverlayModule,r.PortalModule,d.NzIconModule,y.NzOutletModule,f.NzNoAnimationModule,O],exports:[C,z],declarations:[C,z],entryComponents:[C]}]}];var w=function(){function e(e,t){var n=this;this.overlay=e,this.options=t,this.unsubscribe$=new s.Subject;var o=this.options,i=o.nzOnCancel,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new r.ComponentPortal(C)).instance,this.updateOptions(a),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(l.takeUntil(this.unsubscribe$)).subscribe((function(){n.drawerRef.open()})),this.drawerRef.nzOnClose.subscribe((function(){i?i().then((function(e){!1!==e&&n.drawerRef.close()})):n.drawerRef.close()})),this.drawerRef.afterClose.pipe(l.takeUntil(this.unsubscribe$)).subscribe((function(){n.overlayRef.dispose(),n.drawerRef=null,n.unsubscribe$.next(),n.unsubscribe$.complete()}))}return e.prototype.getInstance=function(){return this.drawerRef},e.prototype.updateOptions=function(e){Object.assign(this.drawerRef,e)},e}(),I=function(){function e(e){this.overlay=e}return e.prototype.create=function(e){return new w(this.overlay,e).getInstance()},e}();I.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new I(a.ɵɵinject(o.Overlay))},token:I,providedIn:O}),I.decorators=[{type:a.Injectable,args:[{providedIn:O}]}],I.ctorParameters=function(){return[{type:o.Overlay}]},e.DRAWER_ANIMATE_DURATION=300,e.DrawerBuilderForService=w,e.NzDrawerComponent=C,e.NzDrawerContentDirective=z,e.NzDrawerModule=b,e.NzDrawerRef=v,e.NzDrawerService=I,e.NzDrawerServiceModule=O,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-zorro-antd-drawer.umd.min.js.map